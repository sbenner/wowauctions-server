<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:mongo="http://www.springframework.org/schema/data/mongo"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
       http://www.springframework.org/schema/data/mongo
       http://www.springframework.org/schema/data/mongo/spring-mongo.xsd">


    <bean id="propertyPlaceholderConfigurer"
          class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations" value="classpath:app.properties"/>
    </bean>

    <!--<mongo:db-factory id="mongoDbFactory"-->
    <!--host="localhost"-->
    <!--port="27017"-->
    <!--dbname="wowauctions"-->
    <!--/>-->
    <!-- data source definition -->

    <bean id="restTemplate" class="org.springframework.web.client.RestTemplate">
        <!--<property name="messageConverters">-->
            <!--<list>-->
                <!--<ref bean="jsonConverter" />-->
            <!--</list>-->
        <!--</property>-->
    </bean>

    <bean id="signatureHelper" class="com.heim.wowauctions.utils.SignatureHelper">
        <property name="publicKey" value="${public.key}"/>
    </bean>


    <bean id="mongoFactoryBean" class="org.springframework.data.mongodb.core.MongoFactoryBean">
        <property name="host" value="127.0.0.1"/>
        <property name="port" value="27017"/>


    </bean>

    <bean id="mongoDbFactory"
          class="org.springframework.data.mongodb.core.SimpleMongoDbFactory">
        <constructor-arg ref="mongoFactoryBean"/>
        <constructor-arg value="wowauctions"/>
    </bean>

    <bean id="mongoAuctionsDao" class="com.heim.wowauctions.dao.MongoAuctionsDao">
        <constructor-arg ref="mongoDbFactory"/>

    </bean>


    <mongo:repositories base-package="com.heim.wowauctions.repositories"
                        mongo-template-ref="mongoAuctionsDao"/>


</beans>
